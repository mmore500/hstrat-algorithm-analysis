\begin{algorithm}
\caption{Fixed Resolution Stratum Retention Predicate}
\label{alg:fixed-resolution-pred-keep-rank}
\begin{algorithmic}[1]
    \FOR{$i = 0$ \textbf{to} $\texttt{num\_\text{strata}\_\text{deposited}} - 1$ \textbf{step} $\text{spec.GetFixedResolution()}$}
        \STATE{ \textbf{yield} $i$ }
    \ENDFOR
    \STATE{ $last\_rank \gets \texttt{num\_\text{strata}\_\text{deposited}} - 1$ }
    \IF{$last\_rank > 0$ \textbf{and} $last\_rank \mod \text{spec.GetFixedResolution()} \neq 0$}
        \STATE{ \textbf{yield} $last\_rank$ }
    \ENDIF
\end{algorithmic}
\end{algorithm}
