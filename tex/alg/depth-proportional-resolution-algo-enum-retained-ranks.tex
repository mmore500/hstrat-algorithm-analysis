\begin{algorithm}
\caption{Depth-proportional Resolution Stratum Enumeration}
\label{alg:depth-proportional-resolution-algo-enum-retained-ranks}

    \begin{algorithmic}
        \REQUIRE{ $\texttt{n}$ -- the number of strata deposited }
        \REQUIRE{ $\texttt{r}$ -- the fixed resolution desired }
        \ENSURE{ array of retained strata }
    \end{algorithmic}


    \begin{algorithmic}[1]
        \STATE $\texttt{uncertainty} \gets (\text{largest integral power of two} \le x) \lor 1$
        \STATE $\texttt{arr} \gets \text{empty array of length } \frac{n}{\texttt{uncertainty}} + 1$

        \FOR{$i = 0$ \textbf{to} $\texttt{n} - 1$ \textbf{step} $\text{uncertainty}$}
            \STATE $\texttt{arr} [$i$] \gets i$
        \ENDFOR
        \STATE $\texttt{last\_rank} \gets \texttt{n} - 1$
        \IF{$\texttt{last\_rank} > 0$ \textbf{and} $\texttt{last\_rank} \mod \texttt{uncertainty} \neq 0$}
            \STATE $\texttt{\texttt{last\_rank}} [$i$] \gets \texttt{last\_rank}$
        \ENDIF
    \end{algorithmic}
\end{algorithm}
