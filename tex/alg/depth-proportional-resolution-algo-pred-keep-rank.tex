\begin{algorithm}
\caption{Depth-proportional Resolution Stratum Retention Predicate}
\label{alg:depth-proportional-resolution-algo-pred-keep-rank}
\begin{algorithmic}[1]
    \REQUIRE{n -- the number of strata deposited }
    \REQUIRE{uncertainty -- calculated in function of desired resolution }

    % \STATE{ $\text{uncertainty} \gets \texttt{calc\_provided\_uncertainty(} \text{spec.GetDepthProportionalResolution()}, \texttt{num\_\text{strata}\_\text{deposited}} \texttt{)}$ }

    \FOR{$i = 0$ \textbf{to} $\texttt{n} - 1$ \textbf{step} $\text{uncertainty}$}
        \STATE \textbf{yield} $i$
    \ENDFOR
    \STATE $\texttt{last\_rank} \gets \texttt{n} - 1$
    \IF{$\texttt{last\_rank} > 0$ \textbf{and} $\texttt{last\_rank} \mod \texttt{uncertainty} \neq 0$}
        \STATE \textbf{yield} $\texttt{last\_rank}$
    \ENDIF
\end{algorithmic}
\end{algorithm}
