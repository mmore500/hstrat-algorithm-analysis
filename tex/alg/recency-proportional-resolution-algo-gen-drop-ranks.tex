\begin{algorithm}
\caption{Recency-proportional Resolution Stratum Discard Generator}
\label{alg:recency-proportional-algo-gen-drop-ranks}
    \begin{algorithmic}
        \REQUIRE{ $\texttt{n}$ -- the number of strata deposited }
        \REQUIRE{ $\texttt{r}$ -- the fixed resolution desired }
        \ENSURE{ array of retained strata }
    \end{algorithmic}
        
    \Procedure{NumberToCondemn}{\texttt{n}, \texttt{r}}
    \begin{algorithmic}[1]
        \IF{$ (\texttt{n} \bmod 2 = 1) \lor (\texttt{n} < 2 \cdot \texttt{r} + 1) $}
            \STATE\Return{$0$} 
        \ELSE 
            \STATE\Return{1 + \Call{NumberToCondemn}{$\texttt{n} / 2$, \texttt{r}}}
        \ENDIF
    \end{algorithmic}
    \EndProcedure

    \begin{algorithmic}[1]
        \STATE $\texttt{num\_to\_condemn} \gets \Call{NumberToCondemn}{\texttt{n}, \texttt{r}}$
        \STATE $\texttt{arr} \gets \text{empty array of length num\_to\_condemn}$

        \FOR{$i = 0$ \textbf{to} $\texttt{num\_to\_condemn} - 1$}
        \STATE $\texttt{arr} [$i$] \gets \texttt{n} - 2^{i} \cdot (2 \texttt{r} + 1)$
        \ENDFOR
    \end{algorithmic}
\end{algorithm}
